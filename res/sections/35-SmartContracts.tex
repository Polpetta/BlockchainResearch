\section{Smart Contracts}
\label{sec:smart_contracts}

Blockchain technology is continuously evolving, and recently new features came
out. One of them that is surging in the new cryptocurrencies and that is worth
to talk about are \textbf{Smart Contracts}.
The first idea was proposed by N. Szabo~\cite{szabo97} in 1997, but it has
only recently developed. Smart contracts push Blockchain implementations to
new levels: this innovation give new possibilities, like building contracts or
custom tokens starting form another cryptocurrency.
This new building block is available to newly developed blockchains, like for
example the Ethereum one, and it gives the possibility to build binding
contracts between users.

Our society is composed of laws, rights and regulations between people. Every
resource we spend (for example water) is counted and billed mostly
automatically.
Blockchain smart contracts take this idea and ports it in a distributed
environment.
An user can write with a programming language code that resemble a contract: it
can decide its nature and how much a service can cost. Contracts are saved and
published in the blockchain, and become immutable.
When another user wants to use that contract, the code will be executed by a
miner and the transaction, if any, will be processed and saved as usual.

These contract can be also triggered by events or they can be scheduled to
execute on predetermined time. These feature opens the door to new
implementations: regular payments for services usage can be established in an
anonymous way, or payments can trigger when a resource is used (like, for
example, the water bill).

In order to achieve these feature the smart contracts programming language has
to be Turing-complete: this means that the computation of a specific piece of
code could never end. This may be considered a vulnerability since an attacker
could use that to stop the miners (that execute the smart contracts code) in a
infinite loop, thus blocking the processing of new transactions.  This problem
has been mitigated rewarding the miner: the user that made the contract will
pay a fee for every contract execution. If the attacker does not have enough
money to pay for the execution the miners will refuse process
the contract~\cite{kosba16}.
